trigger:
  branches:
    include:
      - main  

variables:
- group: MyVariableGroup
  # Variable visible en consola
  environmentName: 'dev'
  greeting: 'Hello from Azure DevOps!'

  # Se puede referenciar un secreto definido en la sección de variables del pipeline
  - name: mySecret
    value: $(mySecret)  # Esto se referenciará desde la biblioteca de variables

stages:
- stage: TestVariablesAndSecrets
  jobs:
  - job: ShowVariables
    steps:
    - script: |
        echo "🟢 Environment: $(environmentName)"
        echo "🟢 Greeting: $(greeting)"
        echo "🔒 Secret (masked): $(mySecret)"
        echo "🔐 Secret via env var: $MY_SECRET"
      displayName: 'Print variables and secret'
      env:
        MY_SECRET: $(mySecret)
